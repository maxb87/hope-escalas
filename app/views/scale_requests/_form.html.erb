<%= form_with model: @scale_request do |f| %>
  <% if @scale_request.errors.any? %>
    <div class="alert alert-danger" data-turbo-cache="false">
      <h4 class="mb-2"><%= t('errors.messages.not_saved', count: @scale_request.errors.count, resource: @scale_request.class.model_name.human.downcase) %></h4>
      <ul class="mb-0">
        <% @scale_request.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="mb-3">
    <%= f.label :patient_id, t('scale_requests.form.patient') %>
    <%= f.collection_select :patient_id, @patients, :id, :full_name, { include_blank: t('helpers.select.prompt') }, { class: 'form-select', required: true } %>
  </div>

  <div class="mb-3">
    <%= f.label :psychometric_scale_id, t('scale_requests.form.scale') %>
    <%= f.collection_select :psychometric_scale_id, @psychometric_scales, :id, :name, { include_blank: t('helpers.select.prompt') }, { class: 'form-select', required: true } %>
  </div>

  <div class="mb-3">
    <%= f.label :notes, t('scale_requests.form.notes') %>
    <%= f.text_area :notes, class: 'form-control', rows: 3 %>
  </div>

  <div class="mt-3">
    <%= f.submit t('scale_requests.form.submit'), class: 'btn btn-primary' %>
    <%= link_to t('actions.cancel'), scale_requests_path, class: 'btn btn-secondary' %>
  </div>
<% end %>


