<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4 px-3 py-2 border rounded">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <div class="navbar-brand mb-0 h1">
      <% if user_signed_in? %>
        <% account = current_user.account %>
        <% if account.is_a?(Patient) %>
          <%= link_to t('dashboards.patients.title'), patients_dashboard_path, class: 'text-decoration-none' %>
        <% else %>
          <%= link_to t('dashboards.professionals.title'), professionals_dashboard_path, class: 'text-decoration-none' %>
        <% end %>
      <% else %>
        Hope Escalas
      <% end %>
    </div>

    <div class="d-flex align-items-center gap-3">
      <% if user_signed_in? %>
        <% account = current_user.account %>
        <% if account.is_a?(Patient) %>
          <% pending_count = ScaleRequest.where(patient: account, status: "pending").count %>
          <% if pending_count > 0 %>
            <%= link_to patients_dashboard_path, 
                class: "btn btn-warning btn-sm position-relative" do %>
              <i class="bi bi-bell-fill"></i>
              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                <%= pending_count %>
                <span class="visually-hidden">escalas pendentes</span>
              </span>
            <% end %>
          <% end %>
        <% end %>
        <%= button_to destroy_user_session_path, method: :delete, class: "btn btn-outline-danger d-flex align-items-center gap-2" do %>
          <span class="bi bi-box-arrow-right"></span>
          <span>Sair</span>
        <% end %>
      <% end %>
    </div>
  </div>
</nav> 